<template lang="pug">
    .banner
        .banner-nav
            .nav-logo
                a(href="" @click.prevent="").nav-logo-brand
                    svg(width="163" height="32" xmlns="http://www.w3.org/2000/svg")
                        path(d="M6.3895 0v13.1556c.844-.9482 1.5673-1.5408 2.7728-2.0149 1.2056-.5926 2.4112-.711 3.4962-.711 2.7728 0 5.184.948 6.8717 2.9629 1.8084 2.0148 2.7728 4.6222 2.7728 7.8222 0 3.2-1.085 5.8074-3.0139 7.8222C17.2396 31.052 14.4668 32 11.0912 32c-2.7728 0-5.9073-.5926-8.1978-2.963C.4822 26.5481 0 23.4667 0 19.7926V0h6.3895zm29.841 9.697c1.348 0 2.4508.3759 3.5537.877 1.103.6265 2.0833 1.5036 2.8185 2.506l.6128-3.0071h5.2693V31.624h-5.2693l-.6128-3.0071c-.8578 1.1276-1.8381 2.0047-2.8185 2.506-1.1029.6264-2.3283.877-3.5538.877-2.8185 0-5.2694-1.0024-7.23-3.1324-1.9608-2.1301-2.8186-4.8867-2.8186-8.0191 0-3.1325.9804-5.889 2.8185-8.019 1.9607-2.1301 4.289-3.1325 7.2301-3.1325zm95.5263 0c1.3905 0 2.6652.3759 4.0557.877 1.2746.5012 2.4334 1.3783 3.5921 2.506l-3.2445 3.6337c-.5794-.6265-1.2746-1.0024-1.9699-1.3783-.5794-.376-1.3905-.5012-2.2016-.5012-1.5064 0-2.781.5012-3.824 1.6289-1.2746 1.1276-1.738 2.6312-1.738 4.5107 0 1.8795.4634 3.383 1.5063 4.3854 1.0429 1.1277 2.3175 1.6289 3.824 1.6289.927 0 1.738-.1253 2.4333-.5012.8111-.3759 1.5064-.877 2.2016-1.6289l3.2446 3.6337c-1.043 1.1276-2.3176 2.13-3.5922 2.6312-1.2746.6265-2.781.8771-4.2874.8771-3.1286 0-5.562-1.0024-7.6478-3.1324-1.9699-2.1301-2.8969-4.8867-2.8969-8.0191 0-3.1325.927-5.889 2.897-8.019 1.9698-2.1301 4.519-3.1325 7.6477-3.1325zm20.7308 0c3.0652 0 5.5173.9912 7.479 3.0976 1.9616 2.1064 2.9425 4.8323 2.9425 7.93v.9912c0 .3717 0 .6196-.1226.8674h-15.9387c.3678 1.363.9808 2.478 1.9617 3.3454.9808.8674 2.3295 1.363 3.9233 1.363 1.1035 0 2.0843-.124 2.9426-.4956 1.3486-.6196 1.9617-1.2391 2.8199-1.8586l3.3103 3.5932c-1.1034 1.1152-2.452 1.9825-3.8007 2.602-1.4713.6196-2.9426.8674-4.7816.8674-3.433 0-6.253-.9912-8.3372-3.0976-2.0843-2.1064-3.3103-4.8324-3.3103-8.1778 0-3.0977.9808-5.8236 3.065-7.93 2.0844-2.1064 4.7817-3.0976 7.8468-3.0976zm-75.284 1.9394c1.4884 0 2.8528.347 4.093.9256 1.3644.5785 2.3567 1.3884 3.1009 2.6611l.496-3.124h3.349v19.438h-3.473l-.496-3.1239c-.8683 1.0413-1.9846 1.967-3.1008 2.6612-1.1163.6942-2.6047.9256-3.969.9256-2.9768 0-5.3334-.9256-7.3179-2.8926-1.9845-1.9669-2.9767-4.281-2.9767-7.2892 0-3.0083.9922-5.438 2.9767-7.2893 1.9845-1.967 4.4652-2.8925 7.3179-2.8925zM60.1213 0v31.0303h-3.8788V0h3.8788zm47.6449 10.6667c2.347 0 4.2246.8145 5.6329 2.3272 1.4082 1.5128 1.995 3.6073 1.995 6.4v11.6364h-4.2247V19.9758c0-1.7455-.4694-2.9091-1.2909-3.84-.8215-1.1637-1.8776-1.6291-3.2858-1.6291-.9389 0-1.995.349-2.9338.9309-.9389.5818-1.7603 1.3963-2.4644 2.6763v12.9164h-4.2247V11.1321h3.638l.5867 2.9091c.8214-1.0473 1.8776-1.8618 2.9338-2.4436 1.0561-.5818 2.347-.931 3.6379-.931zm-30.0663 4.0936c-1.9845 0-3.597.5785-4.9613 1.967-1.3643 1.5041-1.9844 3.0082-1.9844 4.9752s.6201 3.5868 1.9844 4.9752c1.3644 1.3884 2.9768 1.967 4.9613 1.967 1.9845 0 3.5969-.5786 4.9612-1.967 1.3644-1.3884 1.9845-2.8926 1.9845-4.9752 0-2.0827-.6201-3.5868-1.9845-4.9752-1.3643-1.3885-2.9767-1.967-4.9612-1.967zm-40.6116.0739c-1.4705 0-2.8185.5012-3.7988 1.6289-.8578 1.253-1.348 2.506-1.348 4.26 0 1.629.4902 3.0072 1.4705 4.135.9804 1.1276 2.3284 1.6288 3.7989 1.6288 1.4705 0 2.8185-.5012 3.7989-1.6289.9803-1.1277 1.4705-2.506 1.4705-4.1348 0-1.6289-.6127-3.0072-1.593-4.2601-.9804-1.1277-2.3284-1.629-3.799-1.629zm-25.8764 1.2843c-1.4467 0-2.5317.474-3.4962 1.4222-.9644.9482-1.4466 2.2519-1.4466 3.6741 0 1.4222.4822 2.726 1.4466 3.674.9645.9482 2.0495 1.4223 3.4962 1.4223 1.4467 0 2.5317-.474 3.3756-1.4222.9644-.9482 1.4467-2.2519 1.4467-3.674 0-1.4223-.4823-2.726-1.4467-3.6742-.844-.9481-1.929-1.4222-3.3756-1.4222zm141.1532-1.961c-1.3486 0-2.452.3718-3.433 1.1152-.9808.7435-1.5938 1.8586-1.9616 3.3455h10.6667c-.3679-1.363-.8583-2.4781-1.8391-3.3455-.7357-.8673-1.9617-1.1151-3.433-1.1151z"
                            :fill="calcNewColor" fill-rule="nonzero")
            .nav-menu
                ul.nav-menu-items
                    li.menu-item
                        a(href="" @click.prevent="selectItem" :style="checkOne") отделка
                    li.menu-item
                        a(href="" @click.prevent="selectItem" :style="checkTwo") архитектура
                    li.menu-item
                        a(href="" @click.prevent="selectItem" :style="checkThree") планировки
        .banner-descr
            .text
                transition(name="slideLeft" mode="out-in")
                    p(v-if="currentSlide == 0" key=0) {{ descrSlide[0] }}
                    p(v-else-if="currentSlide == 1" key=1) {{ descrSlide[1] }}
                    p(v-else="currentSlide == 2" key=2) {{ descrSlide[2] }}
            .footer
                a(href="" @click.prevent="") жк balance &#8226; м. рязанский проспект
        .banner-slider
            .banner-slider-view
                transition(name="fade" mode="out-in")
                    img(:src="getCurrentImage" :key="currentSlide")
            a.button-buy(href="" @click.prevent="") купить online
            img.banner-slider-prev(
                src="assets/images/arrow-left-huge.svg"
                @click="prevSlide")
            img.banner-slider-next(
                src="assets/images/arrow-right-huge.svg"
                @click="nextSlide")


</template>

<script>
export default {
    data () {
        return {
            currentSlide: 0,
            random: Math.random() * 360,
            descrSlide:[
                `thanks good, эпоха евроремонта, пластмассового золота и стиля «дорого-богато» закончилась.
                живи в квартирах с минималистично отделкой в прогрессивных жилых кварталах balance.
                никаких расписных обоев и дверных ручек со стразами - только однотонные стены, ламинат, керамогранит и сантехника vitra.`,
                `архитектура жилых кварталов balance максимально лаконичная. мода на украшения быстро меняется, но нас это не коснется.
                мы поставили себе задачу построить здание, которое будет выглядеть всегда актуально, поэтому используем вечные материалы,
                кирпич, стекло, алюминий.`,
                `те, кто жил в квартирах с кухней-гостиной, ни на что другое уже не согласны. потому что большое общее пространство - кайф.
                там собирается вся семья и друзья: кто-то выбирает фильм для просмотра, кто-то вносит последние штрихи в коронное блюдо, 
                а кто-то пока проверяет  ленту Инстаграма – никто не скучает, потому что все вместе.`
            ]
        }
    },
    computed: {
        getCurrentImage() {
            if (this.currentSlide == 2 ) return 'assets/images/balance_pic_03.jpg'
            else if (this.currentSlide == 1 ) return 'assets/images/balance_pic_02.jpg'
            else return 'assets/images/balance_pic_01.jpg'
        },
        calcNewColor() {
            return `hsl(${this.random}, 100%, 40%)`
        },
        checkOne() {
            if (this.currentSlide === 0) return getStyleObject(this)
        },
        checkTwo() {
            if (this.currentSlide === 1) return getStyleObject(this)
        },
        checkThree() {
            if (this.currentSlide === 2) return getStyleObject(this)
        }
    },
    methods: {
        prevSlide() {
            this.random = Math.random() * 360;
            if (this.currentSlide === 0) this.currentSlide = 2
            else this.currentSlide--
        },
        nextSlide() {
            this.random = Math.random() * 360;
            if (this.currentSlide === 2) this.currentSlide = 0
            else this.currentSlide++
        },
        selectItem(event) {
            this.random = Math.random() * 360;
            this.currentSlide = Array.prototype.indexOf.call(document.querySelectorAll('.menu-item'), event.target.parentNode);
        }
    }
}

function getStyleObject(_this) {
    return {
                color: `hsl(${_this.random}, 100%, 40%)`,
                'font-weight': 'bold'
            }
}

</script>
